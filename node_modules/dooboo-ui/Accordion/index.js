import { Animated } from 'react-native';
import React, { useRef } from 'react';
import AccordionItem from './AccordionItem';
import styled from '@emotion/native';
const Container = styled.View `
  flex-direction: column;
  align-items: center;
`;
const Accordion = (props) => {
    const { data, shouldAnimate, collapseOnStart, animDuration, activeOpacity, toggleElement, renderTitle, renderBody, titleContainerStyle, bodyContainerStyle, } = props;
    const dropDownAnimValueList = useRef(data.map(() => new Animated.Value(0)))
        .current;
    return (<Container>
      {data.map((datum, titleKey) => {
            return (<AccordionItem testID={`${titleKey}`} key={titleKey} datum={datum} shouldAnimate={shouldAnimate} collapseOnStart={collapseOnStart} animDuration={animDuration} activeOpacity={activeOpacity} toggleElement={toggleElement} renderTitle={renderTitle} renderBody={renderBody} titleContainerStyle={titleContainerStyle} bodyContainerStyle={bodyContainerStyle} dropDownAnimValueList={dropDownAnimValueList[titleKey]} sumOfPrecedingTranslateY={dropDownAnimValueList
                    .filter((item, idx) => idx < titleKey)
                    .map((value) => ({ translateY: value }))}/>);
        })}
    </Container>);
};
export { Accordion };
